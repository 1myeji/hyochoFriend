import { swiper } from "./swiper.js";
import { createSubmitEvent, createLoginEvent, authLogin } from "./signup.js";

const firstNav = document.querySelector("ul.nav-1depth > li:first-child");
export const backGround = document.querySelector(".back-ground");
export const loginBtnEl = document.querySelector(".login");
export const loginModal = document.querySelector(".login-modal");
export const signupModal = document.querySelector(".signup-modal");

// signup elements
export const emailInputEl = document.getElementById("signup-email");
export const passwordInputEl = document.getElementById("signup-pw");
export const passwordcheckEl = document.getElementById("signup-repw");
export const displayNameInputEl = document.getElementById("signup-name");
export const submitEl = document.getElementById("frm");

// login elements
export const loginId = document.querySelector(".login-id");
export const loginPw = document.querySelector(".login-pw");
export const loginBtn = document.querySelector(".login-btn");

// console.log(firstNav.innerHTML)
firstNav.addEventListener("mouseover", () => {
  backGround.style.visibility = "visible";
});
firstNav.addEventListener("mouseout", () => {
  backGround.style.visibility = "hidden";
});

loginBtnEl.addEventListener("click", () => {
  if (loginBtnEl.textContent === "로그인/가입") {
    backGround.style.visibility = "visible";
    loginModal.style.visibility = "visible";
    document.querySelector(".close-login").addEventListener("click", () => {
      backGround.style.visibility = "hidden";
      loginModal.style.visibility = "hidden";
    });
    document.querySelector(".signup").addEventListener("click", () => {
      signupModal.style.visibility = "visible";
      loginModal.style.visibiliㅉty = "hidden";
      document.querySelector(".close-signup").addEventListener("click", () => {
        backGround.style.visibility = "hidden";
        signupModal.style.visibility = "hidden";
      });
    });
  }
});

// submitEl.addEventListener("submit", async () => {
//   await createSubmitEvent;
// });
// loginBtn.addEventListener("click", async () => {
//   await createLoginEvent;
// });

submitEl.addEventListener("submit", createSubmitEvent);
loginBtn.addEventListener("click", createLoginEvent);

(async () => {
  await authLogin();
})();
